zookeeper:
        image: 'jplock/zookeeper:3.4.6'
        ports:
          - '2181:2181'
kafka:
        image: 'ches/kafka:0.10.1.0'
        links:
          - zookeeper:zookeeper
        ports:
          - "9092:9092"
elasticsearch:
        image: 'elasticsearch:2.4.1'
        ports:
          - "9200:9200"
          - "9300:9300"
dynamodb:
        image: rajatvig/dynalite-alpine
        ports:
          - '8000:8000'
##
datastore:
        image: 'mastodonc/kixi.datastore:latest'
        #use volumes_from until we upgrade and get depends_on
        ports:
          - "8080:8080"
        volumes_from:
          - "zookeeper"
          - "kafka"
          - "elasticsearch"
        links:
          - zookeeper:zookeeper
          - elasticsearch:elasticsearch
        environment:
          - CONFIG_PROFILE=local
          - ZOOKEEPER=zookeeper
          - ELASTICSEARCH=elasticsearch
heimdall:
        image: 'mastodonc/kixi.heimdall-dev:latest'
        ports:
          - "3002:3002"
        volumes_from:
          - "zookeeper"
          - "kafka"
        links:
          - zookeeper:zookeeper
          - dynamodb:dynamodb
        environment:
          - ZOOKEEPER=zookeeper
